version: '3.8'

services:
  gaia-dev:
    build:
      context: .
      dockerfile: Dockerfile
    image: itomek/gaia-dev:0.15.1
    container_name: ${CONTAINER_NAME:-gaia-dev}
    hostname: gaia-dev

    # Environment configuration
    environment:
      # Lemonade server base URL (defaults to localhost:5000)
      - LEMONADE_BASE_URL=${LEMONADE_BASE_URL:-http://localhost:5000/api/v1}

      # Optional: Skip pip install (for faster restarts)
      - SKIP_INSTALL=${SKIP_INSTALL:-false}

    # Optional: Mount host directory for file exchange
    # Uncomment and set HOST_DIR in your shell to enable:
    # - "${HOST_DIR}:/host"

    # Keep container running
    tty: true
    stdin_open: true

    # Resource limits (adjust as needed)
    deploy:
      resources:
        limits:
          cpus: '4'
          memory: 8G

